import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as a,e}from"./app.e60fbe2f.js";const t={},p=e(`<h1 id="\u6A21\u677F\u7F16\u8BD1" tabindex="-1"><a class="header-anchor" href="#\u6A21\u677F\u7F16\u8BD1" aria-hidden="true">#</a> \u6A21\u677F\u7F16\u8BD1</h1><h2 id="\u524D\u7F6E\u77E5\u8BC6\u70B9-with-\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u524D\u7F6E\u77E5\u8BC6\u70B9-with-\u8BED\u6CD5" aria-hidden="true">#</a> \u524D\u7F6E\u77E5\u8BC6\u70B9\uFF1Awith \u8BED\u6CD5</h2><p>\u9996\u5148\u590D\u4E60\u4E00\u4E2A JS \u7684\u51B7\u95E8\u77E5\u8BC6\u70B9\uFF1A<code>with</code> \u8BED\u6CD5\u3002</p><p>\u5E38\u89C4\u4F5C\u7528\u57DF\u67E5\u627E\u53D8\u91CF\u65B9\u5F0F\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>b<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528 <code>with</code> \u540E\uFF0C\u80FD\u6539\u53D8 <code>{}</code> \u5185\u81EA\u7531\u53D8\u91CF\u7684\u67E5\u627E\u65B9\u5F0F\uFF1A\u5C06 <code>{}</code> \u5185\u81EA\u7531\u53D8\u91CF\u5F53\u4F5C <code>obj</code> \u7684\u5C5E\u6027\u6765\u67E5\u627E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">with</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>b<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// \u4F1A\u62A5\u9519</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u5E73\u65F6\u5F00\u53D1\u4E2D\uFF0C\u4E00\u822C\u614E\u7528 <code>with</code> \u8BED\u6CD5\uFF0C\u8FD9\u662F\u56E0\u4E3A\u5B83\u6253\u7834\u4E86\u4F5C\u7528\u57DF\u89C4\u5219\uFF0C\u4F7F\u4EE3\u7801\u6613\u8BFB\u6027\u53D8\u5DEE\u4E86\u3002\u4F46\u8FD9\u91CC\u628A\u5B83\u4F5C\u4E3A\u524D\u7F6E\u77E5\u8BC6\u70B9\u662F\u56E0\u4E3A\u6A21\u677F\u7F16\u8BD1\u4E2D\u7528\u5230\u4E86\u3002</p><h2 id="vue-\u6A21\u677F\u88AB\u7F16\u8BD1\u6210\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#vue-\u6A21\u677F\u88AB\u7F16\u8BD1\u6210\u4EC0\u4E48" aria-hidden="true">#</a> Vue \u6A21\u677F\u88AB\u7F16\u8BD1\u6210\u4EC0\u4E48</h2><ul><li>Vue \u7684\u6A21\u677F\u4E0D\u662F html\uFF0C\u56E0\u4E3A\u5B83\u6709\u6307\u4EE4\u3001\u63D2\u503C\u3001JS \u8868\u8FBE\u5F0F\uFF0C\u80FD\u5B9E\u73B0\u5224\u65AD\u3001\u5FAA\u73AF\uFF1B</li><li>html \u662F\u6807\u7B7E\u8BED\u8A00\uFF0C\u53EA\u6709 JS \u624D\u80FD\u5B9E\u73B0\u5224\u65AD\u3001\u5FAA\u73AF\u3002</li></ul><p>\u56E0\u6B64\uFF0C\u6A21\u677F\u4E00\u5B9A\u662F\u8F6C\u6362\u4E3A\u67D0\u79CD JS \u4EE3\u7801\uFF0C\u5373\u7F16\u8BD1\u6A21\u677F\u3002</p><h2 id="vue-\u6A21\u677F\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#vue-\u6A21\u677F\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> Vue \u6A21\u677F\u7F16\u8BD1\u8FC7\u7A0B</h2><ul><li>\u6A21\u677F\u7F16\u8BD1\u4E3A render \u51FD\u6570\uFF0C\u6267\u884C render \u51FD\u6570\u8FD4\u56DE vnode\uFF1B</li><li>\u57FA\u4E8E vnode \u518D\u6267\u884C patch \u548C diff\uFF1B</li><li>\u4F7F\u7528 Webpack \u65F6\uFF0Cvue-loader \u4F1A\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u7F16\u8BD1\u6A21\u677F\uFF08\u76EE\u524D\u4E1A\u5185\u4E3B\u6D41\uFF09\uFF1B\u5426\u5219\u4F1A\u5728\u6D4F\u89C8\u5668\u8FD0\u884C\u65F6\u4E2D\u7F16\u8BD1\uFF08\u5355\u72EC\u5728\u9875\u9762\u4E2D\u5F15\u5165 vue.js \u4F7F\u7528\uFF09\u3002</li></ul><p>\u7528\u4EE3\u7801\u6765\u89E3\u91CA\u7F16\u8BD1\u8FC7\u7A0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Step1: \u4E00\u4E2A template\uFF0C\u4F7F\u7528\u4E86\u63D2\u503C\u8BED\u6CD5</span>
<span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;p&gt;{{message}}&lt;/p&gt;</span><span class="token template-punctuation string">\`</span></span>

<span class="token comment">// Step2: \u4E0A\u8FF0 template \u88AB\u7F16\u8BD1\u540E\uFF0C\u5F97\u5230 JS \u4EE3\u7801\u5982\u4E0B</span>
<span class="token comment">// with \u8BED\u6CD5\uFF0C\u540E\u9762\u7684\u81EA\u7531\u53D8\u91CF\u7684\u67E5\u627E\u90FD\u4F1A\u53D8\u6210 this \u7684\u67E5\u627E</span>
<span class="token comment">// this \u6307\u5411 vm \u5B9E\u4F8B: vm = new vue({...})</span>
<span class="token keyword">with</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">createTextVNode</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token comment">// Step3: \u6267\u884C\u4E0A\u8FF0\u51FD\u6570\u540E\uFF0C\u8FD4\u56DE vnode</span>
<span class="token comment">// \u7C7B\u4F3C snabbdom \u7684 h \u51FD\u6570: h(&#39;p&#39;, {}, [...]) =&gt; vnode</span>

<span class="token comment">// Step4: \u6E32\u67D3\u548C\u66F4\u65B0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vue-\u7EC4\u4EF6\u4E2D\u4F7F\u7528-render-\u4EE3\u66FF-template" tabindex="-1"><a class="header-anchor" href="#vue-\u7EC4\u4EF6\u4E2D\u4F7F\u7528-render-\u4EE3\u66FF-template" aria-hidden="true">#</a> vue \u7EC4\u4EF6\u4E2D\u4F7F\u7528 render \u4EE3\u66FF template</h2><p>\u901A\u8FC7 <code>template</code> \u6765\u5B9A\u4E49 Vue \u7EC4\u4EF6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;heading&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;h3&gt;&lt;a name=&quot;headerId&quot; href=&quot;#headerId&quot;&gt;this is a tag&lt;/a&gt;&lt;/h3&gt;</span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7 <code>render</code> \u5C5E\u6027\u6765\u5B9A\u4E49 Vue \u7EC4\u4EF6\uFF0C\u9700\u8981\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\uFF0C\u53C2\u6570\u4E3A <code>createElement</code>\u3002</p><p><code>createElement</code> \u7C7B\u4F3C\u4E8E\u524D\u9762\u4ECB\u7ECD\u7684\u7F16\u8BD1\u540E\u7684\u51FD\u6570\u4F53\uFF0C\u5B83\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u6807\u7B7E\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u5C5E\u6027\uFF08\u53EF\u4E0D\u5199\uFF09\uFF0C\u7B2C\u4E09\u4E2A\u53C2\u6570\u662F\u5B50\u5143\u7D20\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;heading&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>
      <span class="token string">&#39;h&#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>level<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;headerId&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">&#39;#&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;headerId&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#39;this is a tag&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u6709\u4E9B\u590D\u6742\u60C5\u51B5\u4E2D\uFF0C\u4E0D\u80FD\u7528 <code>template</code>\uFF0C\u53EF\u4EE5\u8003\u8651\u7528 <code>render</code>\u3002</p>`,22),o=[p];function c(i,l){return s(),a("div",null,o)}var d=n(t,[["render",c],["__file","template-compile.html.vue"]]);export{d as default};
